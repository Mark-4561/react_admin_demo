{"ast":null,"code":"import \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/message/style/css\";\nimport _message from \"antd/es/message\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nvar _jsxFileName = \"D:\\\\Mark\\\\RA\\\\ws\\\\react-admin\\\\src\\\\pages\\\\login\\\\login.jsx\";\nimport React, { Component } from 'react';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport './login.less';\nimport logo from '../../assets/images/logo.png';\nimport { reqLogin } from '../../api/index.js';\nimport memoryUtils from '../../utils/memoryUtils';\nimport storageUtils from '../../utils/storageUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Item = _Form.Item;\nexport default class Login extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onFinish = values => {\n      const {\n        username,\n        password\n      } = values;\n      const result = reqLogin(username, password);\n      const promise = Promise.resolve(result);\n      promise.then(value => {\n        if (value.status == 0) {\n          _message.success('登陆成功');\n\n          const user = value.data;\n          memoryUtils.user = user;\n          storageUtils.saveUser(user);\n          this.props.history.replace('/');\n        } else {\n          _message.error('登陆失败', value.msg);\n        }\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"login-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"React admin experiment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"login-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u767B\\u5F55\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(_Form, {\n          className: \"login-form\",\n          onFinish: this.onFinish,\n          children: [/*#__PURE__*/_jsxDEV(Item, {\n            name: \"username\",\n            rules: [{\n              required: true,\n              message: '请输入用户名'\n            }, {\n              min: 3,\n              message: '用户名应大于3个字符'\n            }, {\n              max: 20,\n              message: '用户名应小于20个字符'\n            }, {\n              pattern: /^[a-zA-Z0-9_]+$/,\n              message: '用户名应由字母数字或下划线组成'\n            }],\n            initialValue: \"admin\",\n            children: /*#__PURE__*/_jsxDEV(_Input, {\n              prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 41\n              }, this),\n              placeholder: \"\\u7528\\u6237\\u540D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Item, {\n            name: \"password\",\n            rules: [{\n              required: true,\n              message: '请输入密码'\n            }, {\n              min: 4,\n              message: '密码应大于4位'\n            }, {\n              max: 20,\n              message: '密码应小于20位'\n            }, {\n              pattern: /^[a-zA-Z0-9]+$/,\n              message: '密码应由字母数字组成'\n            }],\n            initialValue: \"admin\",\n            children: /*#__PURE__*/_jsxDEV(_Input, {\n              prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 41\n              }, this),\n              type: \"password\",\n              placeholder: \"\\u5BC6\\u7801\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Item, {\n            children: /*#__PURE__*/_jsxDEV(_Button, {\n              type: \"primary\",\n              htmlType: \"submit\",\n              className: \"login-form-button\",\n              children: \"\\u767B\\u5F55\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/Mark/RA/ws/react-admin/src/pages/login/login.jsx"],"names":["React","Component","UserOutlined","LockOutlined","logo","reqLogin","memoryUtils","storageUtils","Item","Login","onFinish","values","username","password","result","promise","Promise","resolve","then","value","status","success","user","data","saveUser","props","history","replace","error","msg","render","required","message","min","max","pattern"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Form, Input, Button, message } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\n\r\nimport './login.less'\r\nimport logo from '../../assets/images/logo.png'\r\nimport { reqLogin } from '../../api/index.js'\r\nimport memoryUtils from '../../utils/memoryUtils'\r\nimport storageUtils from '../../utils/storageUtils'\r\n\r\nconst Item = Form.Item\r\n\r\nexport default class Login extends Component {\r\n\r\n    onFinish = (values) => {\r\n        const { username, password } = values\r\n        const result = reqLogin(username, password)\r\n        const promise = Promise.resolve(result)\r\n\r\n        promise.then((value) => {\r\n            if (value.status == 0) {\r\n                message.success('登陆成功')\r\n                const user = value.data\r\n                memoryUtils.user = user\r\n                storageUtils.saveUser(user)\r\n                this.props.history.replace('/')\r\n            }\r\n            else {\r\n                message.error('登陆失败', value.msg)\r\n            }\r\n        });\r\n    };\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"login\">\r\n                <header className=\"login-header\">\r\n                    <img src={logo} alt=\"logo\" />\r\n                    <h1>React admin experiment</h1>\r\n                </header>\r\n                <section className=\"login-content\">\r\n                    <h2>登录</h2>\r\n                    <Form\r\n                        className=\"login-form\"\r\n                        onFinish={this.onFinish}\r\n                    >\r\n                        <Item\r\n                            name=\"username\"\r\n                            rules={[\r\n                                { required: true, message: '请输入用户名' },\r\n                                { min: 3, message: '用户名应大于3个字符' },\r\n                                { max: 20, message: '用户名应小于20个字符' },\r\n                                { pattern: /^[a-zA-Z0-9_]+$/, message: '用户名应由字母数字或下划线组成' },\r\n                            ]}\r\n                            initialValue='admin'\r\n                        >\r\n                            <Input\r\n                                prefix={<UserOutlined />}\r\n                                placeholder=\"用户名\" />\r\n                        </Item>\r\n                        <Item\r\n                            name=\"password\"\r\n                            rules={[\r\n                                { required: true, message: '请输入密码' },\r\n                                { min: 4, message: '密码应大于4位' },\r\n                                { max: 20, message: '密码应小于20位' },\r\n                                { pattern: /^[a-zA-Z0-9]+$/, message: '密码应由字母数字组成' }\r\n                            ]}\r\n                            initialValue='admin'\r\n                        >\r\n                            <Input\r\n                                prefix={<LockOutlined />}\r\n                                type=\"password\"\r\n                                placeholder=\"密码\" />\r\n                        </Item>\r\n                        <Item>\r\n                            <Button\r\n                                type=\"primary\"\r\n                                htmlType=\"submit\"\r\n                                className=\"login-form-button\"\r\n                            >\r\n                                登录\r\n                            </Button>\r\n                        </Item>\r\n                    </Form>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}